<p-dialog visible="true"
          [baseZIndex]="10000"
          header="Edit User Comments"
          [responsive]="true"
          [resizable]="false">


  <button style="width: 100%"pButton (click)="closeDialog()" label="close me"></button>


  <p-accordion *ngIf="authService.isLoggedIn" [multiple]="true">

    {{filteredorderHistory.length}}

  <div *ngFor="let oh of filteredorderHistory">


    <div id="content-desktop">



      <p-accordionTab header={{oh.orderedTimestamp}}>
        <p-table #dt [columns]="cols" [value]="oh.order" [virtualRowHeight]="30" [loading]="loading"
                 [virtualScroll]="true" [lazy]="true" [totalRecords]="totalRecords">


          <ng-template pTemplate="caption">
            <div class="ui-helper-clearfix" style="text-align: left">
              Order History

              <label *ngIf="oh.orderDeliveryStatus" style="float:right; color: #9F6000">{{oh.orderDeliveryStatus.deliveryStatus}}</label>
            </div>
          </ng-template>


          <ng-template pTemplate="header" let-columns>
            <tr>
              <th *ngFor="let col of cols">
                {{col.header}}
              </th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-grocery>
            <tr>
              <td>
                {{grocery.groceryName}}
              </td>
              <td>
                {{grocery.type}}, {{grocery.subType}}
              </td>
              <td>
                {{grocery.grossWeight}}
              </td>
              <td>
                {{grocery.unitOfWeight}}
              </td>
              <td [ngClass]="{'red-back-ground': grocery.noOfItems > 1}">
                {{grocery.noOfItems}}
              </td>
              <td>
                {{getIndividualCostOfItem(grocery)}}
              </td>
            </tr>
          </ng-template>


          <ng-template pTemplate="summary">
            <div style="text-align: right">
              Total Cost: {{getTotalCostOfTheOrder(oh)}} Kr
            </div>
          </ng-template>
        </p-table>

        <div style="font-family: 'Trebuchet MS'">
          <div *ngIf="oh.orderDeliveryStatus" class="p-grid">
            <div class="p-col">
              <h4 style="font-family: 'Trebuchet MS'; color: orangered">Requested Delivery Time : {{getFormattedDateTime(oh.orderDeliveryStatus.desiredDeliveryDate)}}</h4>
            </div>
            <div class="p-col">
              <h4 style="font-family: 'Trebuchet MS'; color: darkred">Planned Delivery Time : {{getFormattedDateTime(oh.orderDeliveryStatus.actualDeliveryDate)}}</h4>
            </div>
          </div>




        </div>


      </p-accordionTab>
    </div>

    <div id="content-mobile">
      <p-accordionTab  header={{oh.orderedTimestamp}} style="display: block">
        <p-table #dt [columns]="cols" [value]="oh.orderHistory" [virtualRowHeight]="30" [loading]="loading"
                 [virtualScroll]="true" [lazy]="true" [totalRecords]="totalRecords">


          <ng-template pTemplate="caption">
            <div class="ui-helper-clearfix" style="text-align: left">
              <label class="medium-font-size-light-text"> Order History </label>

              <label *ngIf="oh.orderDeliveryStatus" class="medium-font-size-light-text" style="float:right; color: #9F6000">{{oh.orderDeliveryStatus.deliveryStatus}}</label>
            </div>
          </ng-template>


          <ng-template pTemplate="header" let-columns>
            <tr>
              <th *ngFor="let col of cols_mobile_apps">
                <label  class="medium-font-size-light-text"> {{col.header}} </label>
              </th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-grocery>
            <tr style="font-size: small">
              <td class="p-col-6">
                {{grocery.noOfItems}} *
                {{grocery.groceryName}},
                {{grocery.type}}
              </td>
              <td>
                {{grocery.grossWeight}}
                {{grocery.unitOfWeight}}
              </td>
              <td>
                {{getIndividualCostOfItem(grocery)}}
              </td>
            </tr>
          </ng-template>


          <ng-template pTemplate="summary">

            <!--div>
              Your Comments
              Our Comments
              <p style="text-align: right">Total Cost: {{getTotalCostOfTheOrder(oh)}} Kr </p>
            </div-->

            <!--div class="p-grid">
              <div class="p-lg-4" style="font-size: large; color: orangered"> <i class="pi pi-comment"></i>  </div>
              <div class="p-lg-4" style="font-size: large; color: darkred"> <i class="pi pi-comments"></i></div>

              <div class="p-lg-4">
                <p>Total Cost: {{getTotalCostOfTheOrder(oh)}} Kr </p>
              </div>

            </div-->



            <p *ngIf="!oh.orderDeliveryStatus" style="text-align: right; color: indianred">Total Cost: {{getTotalCostOfTheOrder(oh)}} Kr </p>

          </ng-template>


        </p-table>
      </p-accordionTab>
    </div>
  </div>
</p-accordion>


<button pButton class="ui-button-secondary" (click)="closeDialog()" label="Close Me"></button>
</p-dialog>

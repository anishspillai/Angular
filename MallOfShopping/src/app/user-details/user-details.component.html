<div *ngIf="displayHeader">
<h3 style="text-align: center; margin-top: 80px" class="font-weight-bold text-dark center-align mb-5"> User Details </h3>

<hr style="border-width: thick">

<div *ngIf="!user">
  <div class="alert alert-danger m-2" role="alert">
    <h4 class="alert-heading">Please log in!</h4>
    <hr>
    <p class="mb-0">There is a log in button on right top of the page.</p>
  </div>
</div>

  <div *ngIf="pageBeingLoaded" class="d-flex justify-content-center">
    <div class="spinner-border text-xx-large text-primary" role="status">
    </div>
  </div>

  <div *ngIf="displayErrorMessage">
    <app-display-message severity="error" summary="Error: " detail="Sorry to inform you that, there is a technical error occurred. We have created an incident and fix it soon."></app-display-message>
  </div>


  <div *ngIf="user && !pageBeingLoaded" class="card w-75 m-3">
    <div class="card-body">
      <h5 class="card-title text-uppercase">{{userDetailsModel.firstName}}  {{userDetailsModel.lastName}}</h5>
      <p class="card-text"> {{userDetailsModel.apartmentNo + ', '}} {{userDetailsModel.streetName + ', '}} {{userDetailsModel.postNumber}} </p>
      <p class="card-text"> {{userDetailsModel.telephoneNumber}} </p>
      <button type="button" class="btn btn-primary" (click)="displayEditUserDialog = true">
        Edit User Details
      </button>
    </div>
  </div>

</div>

<div *ngIf="!displayHeader">
  <span class="mb-0 card-body text-muted"><strong>{{userDetailsModel.firstName}} {{userDetailsModel.lastName}}</strong></span>
  <br>
  <span class="mb-0 card-body text-muted">{{userDetailsModel.apartmentNo}}, {{userDetailsModel.streetName}}
    , {{userDetailsModel.postNumber}} </span>
  <br>
  <span class="mb-0 card-body text-muted">{{userDetailsModel.telephoneNumber}}</span>

  <div class="modal-footer">
    <button type="button" class="btn btn-warning" (click)="displayEditUserDialog = true">Edit delivery details</button>
  </div>

</div>

<app-edit-user *ngIf="displayEditUserDialog" [displayEditUserDialog] = "displayEditUserDialog"
               [userDetailsModel] = "userDetailsModel"
               (closeEditUserDialog) = "displayEditUserDialog=  $event"
               [userId] = user>
</app-edit-user>

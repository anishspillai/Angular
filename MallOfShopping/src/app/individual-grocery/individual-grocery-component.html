<!--p-panel header={{individualGrocery.type}} styleClass="customTitleBar" [showHeader]="false"-->
<p-panel [showHeader]="false">

  <div>
    <div class="boxfd">

      <img *ngIf="isDesktopApplication" src="{{individualGrocery.imagePath}}"
           style="width: 100px; height: 150px" class="center-align">

      <img *ngIf="!isDesktopApplication" src="{{individualGrocery.imagePath}}"
           style="width: 80px; height: 100px" class="center-align">

      <div [ngClass] = "isDesktopApplication ? 'circleWithText' : 'circleWithTextMobile'">

        <div *ngIf="individualGrocery.bulkPurchaseOfferAvailable">
          <p><a style="color: white"> {{individualGrocery.bulkPurchaseOfferCount}}
            For </a> {{individualGrocery.bulkPurchaseOfferPrice}} <span>Kr</span></p>
        </div>

        <div *ngIf="!individualGrocery.bulkPurchaseOfferAvailable">

          <p *ngIf="individualGrocery.offerPrice > 0"> {{individualGrocery.offerPrice}} <span>Kr</span></p>

          <p *ngIf="individualGrocery.offerPrice == 0"> {{individualGrocery.actualPrice}} <span>Kr</span></p>
        </div>
      </div>
    </div>

    <div *ngIf="individualGrocery.maxShoppingIsRestricted" style="flex-direction: column; color: red">
      MAX SHOPPING / {{individualGrocery.maxShoppingCount}}
    </div>

    <div *ngIf="!individualGrocery.maxShoppingIsRestricted" style="flex-direction: column; color: red">
      &nbsp;
    </div>

    <span class="sans-serif">{{individualGrocery.brandName}}</span>
    <br>
    <span class="sans-serif-small-font">{{individualGrocery.type}}</span>
    <br>
    <span class="sans-serif-small-font">{{individualGrocery.subType}}</span>
    <br>
    <span class="sans-serif-italic">{{individualGrocery.weight}} {{individualGrocery.unitOfWeight}} </span>

    <div
      *ngIf="individualGrocery.maxShoppingIsRestricted || individualGrocery.bulkPurchaseOfferAvailable || individualGrocery.offerPrice != 0">
      <span style="flex-direction: column; color: purple"> Real Cost: {{individualGrocery.actualPrice}} Kr</span>
    </div>

    <div *ngIf="!individualGrocery.maxShoppingIsRestricted && !individualGrocery.bulkPurchaseOfferAvailable && individualGrocery.offerPrice == 0">
      &nbsp;&nbsp;
    </div>

  </div>

  <div class="box" style="text-align:center; padding-top: 10px">

    <div *ngIf="isNotAddedIntoTheList()">
      <button *ngIf="groceryCountService.isStockAvailable(individualGrocery.id)" pButton type="button" label="Add To Cart" class="ui-button-rounded ui-button-success"
              (click)="addItemToCart()">
      </button>
      <button pButton type="button" label="Update Me" class="ui-button-rounded ui-button-danger"
              (click)="updateThisItem()">
      </button>
      <button pButton type="button" label="Description" class="ui-button-rounded ui-button-warning"
              (click)= "updateDescription = true">
      </button>


      <button *ngIf="!groceryCountService.isStockAvailable(individualGrocery.id)" pButton type="button" label="Out of Stock!" class="ui-button-rounded ui-button-danger"
              (click)="addItemToCart()" disabled="true">
      </button>


      <button  pButton type="button" label=" ALLERGY " class="ui-button-rounded ui-button-danger"
              (click)="isUpdateSwedishDescription = true">
      </button>

    </div>

    <div *ngIf="!isNotAddedIntoTheList()" class="ui-inputgroup; center-align">

      <button pButton type="button" icon="pi pi-minus" class="ui-button-danger"
              (click)="decrementNoOfItems()">
      </button>

      &nbsp;&nbsp;<span class="bold-center-aligned-text"> {{ getNoOfOrders() }} </span>&nbsp;&nbsp;

      <button pButton type="button" icon="pi pi-plus" class="ui-button-success"
              (click)="incrementNoOfItems(true)"></button>
    </div>
  </div>

</p-panel>

<p-dialog *ngIf="isDisplayDetails"
          header="{{individualGrocery.type}}"
          [(visible)]="isDisplayDetails"
          [style]="{width: '50vw'}"
          [baseZIndex]="10000">

  <div class="ui-g ui-fluid">

    <div *ngIf="displayMaxShoppingAlertInDialog" class="ui-g-12">

      <p-messages severity="warn">
        <ng-template pTemplate>
          <span class="custom-message">{{getAlertMessage()}}</span>
        </ng-template>
      </p-messages>
    </div>

    <div class="ui-g-12 ui-md-4">

      <div class="p-col-fixed">

        <div class="boxfd">
          <img src="assets/img/groceries.png"
               style="width: 150px; height: 200px" class="center-align">
          <div class="circlefd">

            <div *ngIf="individualGrocery.bulkPurchaseOfferAvailable">
              <p><a style="color: white"> {{individualGrocery.bulkPurchaseOfferCount}}
                For </a> {{individualGrocery.bulkPurchaseOfferPrice}} <span>Kr</span></p>
            </div>

            <div *ngIf="!individualGrocery.bulkPurchaseOfferAvailable">

              <p *ngIf="individualGrocery.offerPrice > 0"> {{individualGrocery.offerPrice}} <span>Kr</span></p>

              <p *ngIf="individualGrocery.offerPrice == 0"> {{individualGrocery.actualPrice}} <span>Kr</span></p>
            </div>
          </div>
        </div>


        <div *ngIf="individualGrocery.maxShoppingIsRestricted" style="text-align: center; color: red">
          MAX SHOPPING / {{individualGrocery.maxShoppingCount}}
        </div>


      </div>

      <div class="p-col-fixed">
        <div class="box">
          <div *ngIf="isDisplayAddButton" style="text-align:center; padding-top: 10px">
            <p-button icon="pi pi-check" iconPos="right" label="Add To Cart" class="ui-button-success"
                      (click)="addItemToCart()"></p-button>


            <p-button icon="pi pi-check" iconPos="right" label="Add To Cart" class="ui-button-success"
                      (click)="addItemToCart()"></p-button>
          </div>
          <div *ngIf="isDisplayAddButton" style="text-align:center; padding-top: 10px">
            <p-button icon="pi pi-check" iconPos="right" label="Add To Cart" class="ui-button-success"
                      (click)="addItemToCart()"></p-button>
          </div>

          <div *ngIf="!isDisplayAddButton" class="ui-inputgroup">
            <button pButton type="button" icon="pi pi-minus" class="ui-button-success"
                    (click)="decrementNoOfItems()"></button>
            <input type="text" pInputText placeholder="Vote" style="font-size: 20px" [(ngModel)]="noOfItems">
            <button pButton type="button" icon="pi pi-plus" class="ui-button-success"
                    (click)="incrementNoOfItems(false)"></button>
          </div>

        </div>
      </div>

    </div>


    <div class="ui-g-12 ui-md-8">

      <div class="p-col-fixed">
        <div class="box">
          <b> {{individualGrocery.brandName}} </b></div>
      </div>

      <hr>
      <div class="p-col">
        Actual Price
        <div *ngIf="individualGrocery.offerPrice > 0" class="box">
          {{individualGrocery.actualPrice}} Kr
        </div>

      </div>
      <hr>

      <div class="p-col">
        <div class="box">
          {{individualGrocery.weight}} {{individualGrocery.unitOfWeight}}
        </div>
      </div>

      <hr>

      <div class="p-col-fixed">
        <div class="box">{{individualGrocery.brandName}}</div>
      </div>

    </div>
    <hr>
  </div>
</p-dialog>

<p-dialog *ngIf="displayMaxShoppingAlert"
          [(visible)]="displayMaxShoppingAlert" header="Information Message">
  <div>{{getAlertMessage()}}</div>
</p-dialog>



<p-dialog *ngIf="updateItem"
          [(visible)]="updateItem" header="Information Message" style="width: 600px">


  {{individualGrocery.imagePath}} <br>

  {{individualGrocery.id}} <br>

  Update the stock <br>



  <input type="text" placeholder="New Count" pInputText [(ngModel)]="countOfItems">

  <button pButton type="button" icon="pi pi-plus" label="Bring back to Stock" class="ui-button-success"
          (click)="makeTheItemInStock()"></button>
  <br>

  <button pButton type="button" icon="pi pi-minus"  label="Out of stock" class="ui-button-danger"
          (click)="makeTheItemOutOfStock()"></button>
  <br>

  <br>
  <br>
  <br>
  <br>
  <br>
  <br>

  <input type="text" pInputText [(ngModel)]="newPrice">

  <button pButton type="button" icon="pi pi-plus" label="Update Price" class="ui-button-info"
          (click)="setThePriceForTheItem()"></button> <br>
  <br>
  <br>
  <br>
  <br>
  <br>

  <input type="text" pInputText [(ngModel)]="newWeight">

  <button pButton type="button" icon="pi pi-plus" label="Update Weight" class="ui-button-warning"
          (click)="setNewWeight()"></button>
  <br>
  <br>
  <br>
  <br>
  <br>

  <input type="text" pInputText [(ngModel)]="unitOfWeight">

  <button pButton type="button" icon="pi pi-plus" label="Update Unit of Weight" class="ui-button-warning"
          (click)="setUnitOfWeight()"></button>
  <br>
  <br>
  <br>
  <br>
  <br>




  <input type="text" pInputText [(ngModel)]="subCatagory">

  <button pButton type="button" icon="pi pi-plus" label="Update Sub category" class="ui-button-warning"
          (click)="updateSubCatagory()"></button>
  <br>
  <br>
  <br>
  <br>
  <br>

  <button pButton type="button" icon="pi pi-plus" label="Delete Me" class="ui-button-danger"
          (click)="deleteMe()"></button>


  <br>
  <br>
  <br>
  <br>
  <br>

  <button pButton type="button" icon="pi pi-plus" label="Display My features" class="ui-button-danger"
          (click)="displayMe()"></button>


</p-dialog>






<p-dialog *ngIf="updateDescription"
          [(visible)]="updateDescription" header="Update Description" style="width: 600px">

  {{individualGrocery.description}}

  <input type="text" pInputText [(ngModel)]="descriptionText" [value]="individualGrocery.description">

  <button pButton type="button" icon="pi pi-plus" label="Update Description" class="ui-button-success"
          (click)="setTheDescription()"></button>
  <br>

</p-dialog>


<p-dialog *ngIf="isUpdateSwedishDescription"
          [(visible)]="isUpdateSwedishDescription" header="Update swedishDescription" style="width: 600px; height: 600px">

  {{individualGrocery.swedishDescription}} <br>
  {{individualGrocery.allergyInformation}}

  <textarea [cols]="50" [rows]="15" [(ngModel)]="swedishInformation" [value]="individualGrocery.swedishDescription"></textarea> <br>

  <button pButton type="button" icon="pi pi-plus" label="Update Swedish " class="ui-button-success"
          (click)="(updateSwedishDescription())"></button>

    <br><br><br>

  <textarea [cols]="50" [rows]="5" [(ngModel)]="nutrients" [value]="individualGrocery.nutrients"></textarea> <br>

  <button pButton type="button" icon="pi pi-plus" label="Update Nutrients" class="ui-button-success"
          (click)="(updateNutrients())"></button>

  <hr>

  <input type="text" pInputText [(ngModel)]="allergyInformation" [value]="individualGrocery.allergyInformation">

  <button style="margin-left: 40px" pButton type="button" icon="pi pi-plus" label="Allergy Description" class="ui-button-success"
          (click)="(updateAllergyInformation())"></button>
  <hr>

  <input type="text" pInputText [(ngModel)]="header" [value]="individualGrocery.header">

  <button style="margin-left: 40px" pButton type="button" icon="pi pi-plus" label="Name in swedish" class="ui-button-success"
          (click)="(updateHeader())"></button>

  <hr>



  <button pButton type="button" icon="pi pi-plus" label="Add To DataBase" class="ui-button-danger"
          (click)="(updateDescriptionInDB())"></button>
</p-dialog>



















